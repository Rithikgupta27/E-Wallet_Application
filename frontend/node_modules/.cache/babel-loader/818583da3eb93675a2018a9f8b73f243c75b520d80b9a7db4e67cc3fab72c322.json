{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\testing\\\\frontend\\\\src\\\\components\\\\Auth\\\\Forms\\\\LoginForm.jsx\",\n  _s = $RefreshSig$();\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport AuthService from '../../../services/Auth/AuthService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginForm = ({\n  switchToForgotPassword,\n  switchToSignUp\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [mobileNumber, setMobileNumber] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  function softHash(inputString) {\n    let hash = 0;\n    for (let i = 0; i < inputString.length; i++) {\n      hash = (hash << 5) - hash + inputString.charCodeAt(i);\n      hash |= 0;\n    }\n    let hashString = hash.toString();\n    hashString = hashString.slice(0, 15);\n    return hashString;\n  }\n  const handleMobileNumberChange = e => {\n    setMobileNumber(e.target.value);\n  };\n  const handlePasswordChange = e => {\n    setPassword(e.target.value);\n  };\n  const handleLogin = async e => {\n    if (!mobileNumber || mobileNumber.length !== 10) {\n      setErrorMessage('Invalid mobile number');\n      return;\n    }\n    if (!password || password.length < 8) {\n      setErrorMessage('Invalid Password');\n      return;\n    }\n    e.preventDefault();\n    try {\n      await AuthService.loginUser(mobileNumber, softHash(password));\n      const uniqueId = localStorage.getItem('uniqueId');\n      console.log(uniqueId);\n\n      // make sure to log out befofe asking for new session\n\n      navigate('/dashboard');\n    } catch (error) {\n      setErrorMessage('Invalid mobile number or password. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full bg-white rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 border-black\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 space-y-4 md:space-y-6 sm:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl\",\n        children: \"Log in to your account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mobileNumber\",\n          className: \"block mb-2 text-sm font-medium text-gray-900\",\n          children: \"Mobile Number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"mobileNumber\",\n          id: \"mobileNumber\",\n          placeholder: \"10 digit Phone Number\",\n          value: mobileNumber,\n          onChange: handleMobileNumberChange,\n          className: \"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5\",\n          \"aria-label\": \"Mobile Number\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          className: \"block mb-2 text-sm font-medium text-gray-900\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: password,\n          onChange: handlePasswordChange,\n          className: \"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5\",\n          \"aria-label\": \"Password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3 text-sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: switchToForgotPassword,\n          className: \"text-sm font-medium text-primary-600 hover:underline text-blue-500\",\n          children: \"Forgot password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500 mb-4\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        className: \"w-full text-white bg-blue-500 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm font-light text-gray-500\",\n        children: [\"Don't have an account yet? \", /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: switchToSignUp,\n          className: \"font-medium text-blue-600 hover:underline\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this);\n};\n_s(LoginForm, \"p1FOfD6cy/GFeGb4jWYkn/d9DlY=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","useNavigate","AuthService","jsxDEV","_jsxDEV","LoginForm","switchToForgotPassword","switchToSignUp","_s","navigate","mobileNumber","setMobileNumber","password","setPassword","errorMessage","setErrorMessage","softHash","inputString","hash","i","length","charCodeAt","hashString","toString","slice","handleMobileNumberChange","e","target","value","handlePasswordChange","handleLogin","preventDefault","loginUser","uniqueId","localStorage","getItem","console","log","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","name","id","placeholder","onChange","required","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Hp/Desktop/testing/frontend/src/components/Auth/Forms/LoginForm.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport AuthService from '../../../services/Auth/AuthService'\r\n\r\nconst LoginForm = ({ switchToForgotPassword, switchToSignUp }) => {\r\n    const navigate = useNavigate();\r\n    const [mobileNumber, setMobileNumber] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    function softHash(inputString) {\r\n      let hash = 0;\r\n      for (let i = 0; i < inputString.length; i++) {\r\n        hash = (hash << 5) - hash + inputString.charCodeAt(i);\r\n        hash |= 0;\r\n      }\r\n      let hashString = hash.toString();\r\n      hashString = hashString.slice(0, 15);\r\n    \r\n      return hashString;\r\n    }\r\n\r\n    const handleMobileNumberChange = (e) => {\r\n      setMobileNumber(e.target.value);\r\n    };\r\n\r\n    const handlePasswordChange = (e) => {\r\n      setPassword(e.target.value);\r\n    };\r\n\r\n    const handleLogin = async (e) => {\r\n      if (!mobileNumber || mobileNumber.length !== 10) {\r\n        setErrorMessage('Invalid mobile number');\r\n        return;\r\n      }\r\n      if (!password || password.length < 8) {\r\n        setErrorMessage('Invalid Password');\r\n        return;\r\n      }\r\n      e.preventDefault();\r\n      try {\r\n        await AuthService.loginUser(mobileNumber, softHash(password));\r\n        const uniqueId = localStorage.getItem('uniqueId');\r\n        console.log(uniqueId);\r\n\r\n        // make sure to log out befofe asking for new session\r\n\r\n        navigate('/dashboard');\r\n      } catch (error) {\r\n        setErrorMessage('Invalid mobile number or password. Please try again.');\r\n      }\r\n    };\r\n    \r\n  \r\n    return (\r\n      <div className=\"w-full bg-white rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 border-black\">\r\n        <div className=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\r\n            <h1 className=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl\">\r\n                Log in to your account\r\n            </h1>\r\n            <div>\r\n              <label htmlFor=\"mobileNumber\" className=\"block mb-2 text-sm font-medium text-gray-900\">Mobile Number</label>\r\n              <input \r\n                type=\"text\" \r\n                name='mobileNumber' \r\n                id='mobileNumber' \r\n                placeholder=\"10 digit Phone Number\" \r\n                value={mobileNumber} \r\n                onChange={handleMobileNumberChange} \r\n                className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5\" \r\n                aria-label=\"Mobile Number\" \r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"block mb-2 text-sm font-medium text-gray-900\">Password</label>\r\n              <input \r\n                type=\"password\" \r\n                placeholder=\"Password\" \r\n                value={password} \r\n                onChange={handlePasswordChange} \r\n                className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5\" \r\n                aria-label=\"Password\" \r\n                required\r\n              />\r\n            </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-start\">\r\n                        <div className=\"flex items-center h-5\">\r\n                          {/* <input id=\"remember\" aria-describedby=\"remember\" type=\"checkbox\" className=\"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300\" required=\"\"/> */}\r\n                        </div>\r\n                        <div className=\"ml-3 text-sm\">\r\n                          {/* <label htmlFor=\"remember\" className=\"text-gray-500\">Remember me</label> */}\r\n                        </div>\r\n                    </div>\r\n                    <a onClick={switchToForgotPassword} className=\"text-sm font-medium text-primary-600 hover:underline text-blue-500\">Forgot password?</a>\r\n                </div>\r\n                {errorMessage && <div className=\"text-red-500 mb-4\">{errorMessage}</div>}\r\n                <button onClick={handleLogin} className=\"w-full text-white bg-blue-500 hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\">Login</button>\r\n                <p className=\"text-sm font-light text-gray-500\">\r\n                    Don't have an account yet? <a onClick={switchToSignUp} className=\"font-medium text-blue-600 hover:underline\">Sign up</a>\r\n                </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default LoginForm\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}