{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\testing\\\\frontend\\\\src\\\\components\\\\DashBoard\\\\Forms\\\\KycForm.jsx\",\n  _s = $RefreshSig$();\n/* eslint-disable eqeqeq */\n// FormComponent.js\nimport React, { useState } from 'react';\nimport KYCService from '../../../services/DashBoard/KYCService';\nimport './Form.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KycForm = props => {\n  _s();\n  const [adharNumber, setAdharNumber] = useState(0);\n  const [otp, setOtp] = useState(0);\n  const [sysOTP, setSysOTP] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const changedAdharNumber = events => {\n    setAdharNumber(events.target.value);\n  };\n  const changedOtp = events => {\n    setOtp(events.target.value);\n  };\n  const getOTPLocally = () => {\n    if (!isNaN(parseInt(adharNumber)) && adharNumber.length === 12) {\n      const randomNumber = Math.floor(Math.random() * 9000) + 1000;\n      alert(\"OTP: \" + randomNumber);\n      setSysOTP(randomNumber);\n      setErrorMessage(\"\");\n    } else {\n      setErrorMessage(\"Adhaar Card is not valid\");\n    }\n  };\n  const clickSubmit = events => {\n    setErrorMessage(\"\");\n    if (!otp) {\n      setErrorMessage(\"Please enter the OTP\");\n      return;\n    }\n    if (!isNaN(parseInt(adharNumber)) && adharNumber.length === 12) {\n      setErrorMessage(\"Dont act Smart\");\n      return;\n    }\n    const kyc = localStorage.getItem(\"kyc\");\n    if (kyc == 1) {\n      setSuccessMessage(\"Kyc is done already\");\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n      return;\n    }\n    events.preventDefault();\n    if (otp == sysOTP) {\n      try {\n        const uniqueId = localStorage.getItem('uniqueId');\n        console.log(uniqueId);\n        KYCService.updateKYCStatus(uniqueId);\n        setSuccessMessage(\"KYC Complete\");\n        localStorage.setItem(\"kyc\", 1);\n        setAdharNumber('');\n        setOtp('');\n      } catch {\n        setErrorMessage(\"KYC failed or done already\");\n        setTimeout(() => {\n          window.location.reload();\n        }, 2000);\n      }\n    } else {\n      setErrorMessage(\"wrong OTP\");\n      // console.log(\"not working\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"styled-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"subheading\",\n      children: \"KYC DETAILS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: clickSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Addhar Number:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"adhar\",\n        name: \"adharNumber\",\n        onChange: changedAdharNumber,\n        placeholder: \"Enter Aadhar 12 digit Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: getOTPLocally,\n        children: \"Get OTP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"otp\",\n        name: \"otp\",\n        onChange: changedOtp,\n        placeholder: \"Enter OTP\",\n        pattern: \"[0-9]{4}\",\n        inputMode: \"numeric\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500 mb-4\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 26\n      }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-green-500 mb-4\",\n        children: successMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(KycForm, \"+h4cad0E1Ir6zHv/KjWtO2DHc/E=\");\n_c = KycForm;\nexport default KycForm;\nvar _c;\n$RefreshReg$(_c, \"KycForm\");","map":{"version":3,"names":["React","useState","KYCService","jsxDEV","_jsxDEV","KycForm","props","_s","adharNumber","setAdharNumber","otp","setOtp","sysOTP","setSysOTP","errorMessage","setErrorMessage","successMessage","setSuccessMessage","changedAdharNumber","events","target","value","changedOtp","getOTPLocally","isNaN","parseInt","length","randomNumber","Math","floor","random","alert","clickSubmit","kyc","localStorage","getItem","setTimeout","window","location","reload","preventDefault","uniqueId","console","log","updateKYCStatus","setItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","id","name","onChange","placeholder","onClick","pattern","inputMode","_c","$RefreshReg$"],"sources":["C:/Users/Hp/Desktop/testing/frontend/src/components/DashBoard/Forms/KycForm.jsx"],"sourcesContent":["/* eslint-disable eqeqeq */\r\n// FormComponent.js\r\nimport React, { useState } from 'react';\r\nimport KYCService from '../../../services/DashBoard/KYCService';\r\nimport './Form.css';\r\n\r\nconst KycForm = (props) => {\r\n    const [adharNumber,setAdharNumber] = useState(0);\r\n    const [otp,setOtp] = useState(0);\r\n    const [sysOTP,setSysOTP] = useState(0);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const changedAdharNumber = (events) =>{\r\n        setAdharNumber(events.target.value);\r\n    }\r\n    const changedOtp = (events) =>{\r\n        setOtp(events.target.value);\r\n    }\r\n\r\n    const getOTPLocally = () => {\r\n      if (!isNaN(parseInt(adharNumber)) && adharNumber.length === 12) {\r\n        const randomNumber = Math.floor(Math.random() * 9000) + 1000;\r\n        alert(\"OTP: \" + randomNumber);\r\n        setSysOTP(randomNumber);\r\n        setErrorMessage(\"\")\r\n      } else{\r\n        setErrorMessage(\"Adhaar Card is not valid\")\r\n      }\r\n    };    \r\n    \r\n    const clickSubmit = (events) =>{\r\n      setErrorMessage(\"\")\r\n      if (!otp){\r\n        setErrorMessage(\"Please enter the OTP\")\r\n        return;\r\n      }\r\n      if (!isNaN(parseInt(adharNumber)) && adharNumber.length === 12) { \r\n        setErrorMessage(\"Dont act Smart\")\r\n        return;\r\n      }\r\n      const kyc = localStorage.getItem(\"kyc\")\r\n      if (kyc == 1){\r\n        setSuccessMessage(\"Kyc is done already\");\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 2000);\r\n        return;\r\n      }\r\n      events.preventDefault();  \r\n      if (otp == sysOTP){\r\n        try{\r\n          const uniqueId = localStorage.getItem('uniqueId');\r\n          console.log(uniqueId);\r\n          KYCService.updateKYCStatus(uniqueId);\r\n          setSuccessMessage(\"KYC Complete\");\r\n          localStorage.setItem(\"kyc\", 1);\r\n          setAdharNumber('')\r\n          setOtp('');\r\n        }  catch{\r\n          setErrorMessage(\"KYC failed or done already\")\r\n          setTimeout(() => {\r\n            window.location.reload();\r\n          }, 2000);\r\n        }\r\n      }else{\r\n        setErrorMessage(\"wrong OTP\")\r\n        // console.log(\"not working\");\r\n      }\r\n    }\r\n  return (\r\n    <div className=\"styled-form\">\r\n      <h1 className='subheading'>KYC DETAILS</h1>\r\n       <form  onSubmit={clickSubmit}>\r\n        <label>Addhar Number:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"adhar\"\r\n          name=\"adharNumber\"\r\n          onChange={changedAdharNumber}\r\n          placeholder=\"Enter Aadhar 12 digit Number\"\r\n        />\r\n        <button type=\"button\" onClick={getOTPLocally}>\r\n          Get OTP\r\n        </button>\r\n        <br/>\r\n        <br/>\r\n        <input\r\n          type=\"text\"\r\n          id=\"otp\"\r\n          name=\"otp\"\r\n          onChange={changedOtp}\r\n          placeholder=\"Enter OTP\"\r\n          pattern=\"[0-9]{4}\"\r\n          inputMode=\"numeric\"\r\n        />\r\n        {errorMessage && <div className=\"text-red-500 mb-4\">{errorMessage}</div>}\r\n        {successMessage && <div className=\"text-green-500 mb-4\">{successMessage}</div>}\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n       </div>\r\n  );\r\n};\r\n\r\nexport default KycForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}